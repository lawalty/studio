rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Allow read access to all files by default.
    // This is necessary for the AI to process documents via their public URL.
    match /{allPaths=**} {
      allow read;
    }

    // Allow write access to all files.
    // This is secure in this context because uploads are managed by
    // trusted server-side functions, not direct client uploads.
    match /{allPaths=**} {
      allow write;
    }
  }
}
